const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SceneTitle-Dwxgqvyb.js","../run.js","./SceneAdventure0-CrPxKSD_.js","./SceneAdventure1-B_wcxcZD.js","./SceneAdventure2-pOppYrN1.js","./Stage1階のカギ-RKu66ruf.js","./Game-Dbs3negb.js","./Stageぬるついたハンマー-Dsfjwqna.js","./Stageガラス瓶-BErTI7dJ.js","./Stageヘアピン-s6ff7lQh.js","./Stageライター-DcBdt5Li.js","./Stage包丁-5m30Hrdo.js","./Stage朽ち果てたメモ-CEAsZc0e.js","./Stage楽譜-GzO1YilZ.js","./Stage空のバケツ-B3Yyttny.js","./Stage葛-BcyY2VIu.js","./Stage造花-o_xrTsqq.js","./Stage金属片-BJL2z-be.js","./Stage鉢-BCPfpKmk.js","./Stage魔女-NiTxF_8d.js","./Stage魔導書-CUX1YWrh.js"])))=>i.map(i=>d[i]);
import{S as u,P as p,D as s,_ as t,b as i,c as S}from"../run.js";import{B as c,L as _}from"./SceneTitle-Dwxgqvyb.js";class E extends u{ready;#t=new p;#e;#r;constructor(e,{from:r}){super(),this.#r=r,this.ready=this.#s(e)}async end(){this.#e.destroy()}async#s(e){const r=await(await fetch("pages/game.html")).text();await this.#t.load(s.container,r),c.ffp("assets/sounds/puzzle.mp3",{loopStartS:17.297,volume:.5}),this.#t.on("back",async()=>{this.#a()}),this.#t.on("retry",async a=>{a.back(1,{msIn:0,msOut:0}),this.#e.reset()}),this.#t.on("clear",async a=>{_.addBranch(`clear-${e}`),this.#a()}),this.#o(e)}async#a(){if(this.#r==="title"){const{SceneTitle:o}=await t(async()=>{const{SceneTitle:m}=await import("./SceneTitle-Dwxgqvyb.js").then(n=>n.S);return{SceneTitle:m}},__vite__mapDeps([0,1]),import.meta.url);await i.goto(()=>new o(["first","past"]));return}const e=Object.assign({"./SceneAdventure0.ts":()=>t(()=>import("./SceneAdventure0-CrPxKSD_.js"),__vite__mapDeps([2,1,0]),import.meta.url),"./SceneAdventure1.ts":()=>t(()=>import("./SceneAdventure1-B_wcxcZD.js"),__vite__mapDeps([3,1,0]),import.meta.url),"./SceneAdventure2.ts":()=>t(()=>import("./SceneAdventure2-pOppYrN1.js"),__vite__mapDeps([4,1,0]),import.meta.url)}),r=`./SceneAdventure${_.getChapter()}.ts`,{SceneAdventure:a}=await e[r]();await i.goto(()=>new a)}async#o(e){const r=Object.assign({"../Stages/Stage1階のカギ.ts":()=>t(()=>import("./Stage1階のカギ-RKu66ruf.js"),__vite__mapDeps([5,6]),import.meta.url),"../Stages/Stageぬるついたハンマー.ts":()=>t(()=>import("./Stageぬるついたハンマー-Dsfjwqna.js"),__vite__mapDeps([7,6]),import.meta.url),"../Stages/Stageガラス瓶.ts":()=>t(()=>import("./Stageガラス瓶-BErTI7dJ.js"),__vite__mapDeps([8,6]),import.meta.url),"../Stages/Stageヘアピン.ts":()=>t(()=>import("./Stageヘアピン-s6ff7lQh.js"),__vite__mapDeps([9,6]),import.meta.url),"../Stages/Stageライター.ts":()=>t(()=>import("./Stageライター-DcBdt5Li.js"),__vite__mapDeps([10,6]),import.meta.url),"../Stages/Stage包丁.ts":()=>t(()=>import("./Stage包丁-5m30Hrdo.js"),__vite__mapDeps([11,6]),import.meta.url),"../Stages/Stage朽ち果てたメモ.ts":()=>t(()=>import("./Stage朽ち果てたメモ-CEAsZc0e.js"),__vite__mapDeps([12,6]),import.meta.url),"../Stages/Stage楽譜.ts":()=>t(()=>import("./Stage楽譜-GzO1YilZ.js"),__vite__mapDeps([13,6]),import.meta.url),"../Stages/Stage空のバケツ.ts":()=>t(()=>import("./Stage空のバケツ-B3Yyttny.js"),__vite__mapDeps([14,6]),import.meta.url),"../Stages/Stage葛.ts":()=>t(()=>import("./Stage葛-BcyY2VIu.js"),__vite__mapDeps([15,6]),import.meta.url),"../Stages/Stage造花.ts":()=>t(()=>import("./Stage造花-o_xrTsqq.js"),__vite__mapDeps([16,6]),import.meta.url),"../Stages/Stage金属片.ts":()=>t(()=>import("./Stage金属片-BJL2z-be.js"),__vite__mapDeps([17,6]),import.meta.url),"../Stages/Stage鉢.ts":()=>t(()=>import("./Stage鉢-BCPfpKmk.js"),__vite__mapDeps([18,6]),import.meta.url),"../Stages/Stage魔女.ts":()=>t(()=>import("./Stage魔女-NiTxF_8d.js"),__vite__mapDeps([19,6]),import.meta.url),"../Stages/Stage魔導書.ts":()=>t(()=>import("./Stage魔導書-CUX1YWrh.js"),__vite__mapDeps([20,6]),import.meta.url)}),a=`../Stages/Stage${e}.ts`,{Stage:o}=await r[a]();this.#e=new o(s.container.querySelector("#first #center")),this.#e.onClear=()=>{s.container.querySelector("#clear")?.classList.remove("hidden"),_.addClearedStageId(e),S.clear.play()},s.container.querySelector("#stage-id").textContent=`${e}`}}export{E as SceneGame};
//# sourceMappingURL=SceneGame-Hj-COeEg.js.map

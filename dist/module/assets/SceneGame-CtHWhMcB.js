const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./SceneTitle-DCaVOL64.js","../run.js","./SceneAdventure0-C21NSaGc.js","./SceneAdventure1-CRzGrK-O.js","./SceneAdventure2-BhLiE6IG.js","./Stage1階のカギ-RKu66ruf.js","./Game-Dbs3negb.js","./Stageぬるついたハンマー-Dsfjwqna.js","./Stageヘアピン-s6ff7lQh.js","./Stageライター-DcBdt5Li.js","./Stage包丁-5m30Hrdo.js","./Stage空のバケツ-B3Yyttny.js","./Stage薄い本-CEAsZc0e.js","./Stage魔導書-CUX1YWrh.js"])))=>i.map(i=>d[i]);
import{S as c,P as u,D as s,B as p,_ as t,a as n}from"../run.js";import{L as i}from"./SceneTitle-DCaVOL64.js";class g extends c{ready;#t=new u;#e;#a;constructor(e,{from:a}){super(),this.#a=a,this.ready=this.#s(e)}async end(){this.#e.destroy()}async#s(e){const a=await(await fetch("pages/game.html")).text();await this.#t.load(s.container,a),p.ffp("assets/sounds/puzzle.mp3",{loopStartS:17.297}),this.#t.on("back",async()=>{this.#r()}),this.#t.on("retry",async r=>{r.back(1,{msIn:0,msOut:0}),this.#e.reset()}),this.#t.on("clear",async r=>{i.addBranch(`clear-${e}`),this.#r()}),this.#o(e)}async#r(){if(this.#a==="title"){const{SceneTitle:o}=await t(async()=>{const{SceneTitle:_}=await import("./SceneTitle-DCaVOL64.js").then(m=>m.S);return{SceneTitle:_}},__vite__mapDeps([0,1]),import.meta.url);await n.goto(()=>new o(["first","past"]));return}const e=Object.assign({"./SceneAdventure0.ts":()=>t(()=>import("./SceneAdventure0-C21NSaGc.js"),__vite__mapDeps([2,1,0]),import.meta.url),"./SceneAdventure1.ts":()=>t(()=>import("./SceneAdventure1-CRzGrK-O.js"),__vite__mapDeps([3,1,0]),import.meta.url),"./SceneAdventure2.ts":()=>t(()=>import("./SceneAdventure2-BhLiE6IG.js"),__vite__mapDeps([4,1,0]),import.meta.url)}),a=`./SceneAdventure${i.getChapter()}.ts`,{SceneAdventure:r}=await e[a]();await n.goto(()=>new r)}async#o(e){const a=Object.assign({"../Stages/Stage1階のカギ.ts":()=>t(()=>import("./Stage1階のカギ-RKu66ruf.js"),__vite__mapDeps([5,6]),import.meta.url),"../Stages/Stageぬるついたハンマー.ts":()=>t(()=>import("./Stageぬるついたハンマー-Dsfjwqna.js"),__vite__mapDeps([7,6]),import.meta.url),"../Stages/Stageヘアピン.ts":()=>t(()=>import("./Stageヘアピン-s6ff7lQh.js"),__vite__mapDeps([8,6]),import.meta.url),"../Stages/Stageライター.ts":()=>t(()=>import("./Stageライター-DcBdt5Li.js"),__vite__mapDeps([9,6]),import.meta.url),"../Stages/Stage包丁.ts":()=>t(()=>import("./Stage包丁-5m30Hrdo.js"),__vite__mapDeps([10,6]),import.meta.url),"../Stages/Stage空のバケツ.ts":()=>t(()=>import("./Stage空のバケツ-B3Yyttny.js"),__vite__mapDeps([11,6]),import.meta.url),"../Stages/Stage薄い本.ts":()=>t(()=>import("./Stage薄い本-CEAsZc0e.js"),__vite__mapDeps([12,6]),import.meta.url),"../Stages/Stage魔導書.ts":()=>t(()=>import("./Stage魔導書-CUX1YWrh.js"),__vite__mapDeps([13,6]),import.meta.url)}),r=`../Stages/Stage${e}.ts`,{Stage:o}=await a[r]();this.#e=new o(s.container.querySelector("#first #center")),this.#e.onClear=()=>{s.container.querySelector("#clear")?.classList.remove("hidden"),i.addClearedStageId(e)},s.container.querySelector("#stage-id").textContent=`${e}`}}export{g as SceneGame};
//# sourceMappingURL=SceneGame-CtHWhMcB.js.map
